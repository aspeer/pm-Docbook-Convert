<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0" xmlns="http://docbook.org/ns/docbook">
  <refmeta>
    <refentrytitle>docbook-convert</refentrytitle>

    <manvolnum>5</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>docbook-convert</refname>

    <refpurpose>Convert Docbook articles and refentry's to other formats such
    as Markdown and POD</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>docbook-convert --markdown file.xml</command>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsection>
    <title>Description</title>

    <para>docbook-convert is a front-end to the Docbook::Convert Perl module
    for converting between Docbook and other formats - currently Markdown and
    POD. It is intended to let authors write documentation in Docbook and then
    output it to more easily publishable formats such as Markdown - or have it
    converted to POD and optionally merged into a perl programs or
    module.</para>

    <para>This utility will work on Docbook 4+ Articles and Refentry
    templates. See Limitations in this document for information on
    capabilities of this program.</para>
  </refsection>

  <refsection>
    <title>Options</title>

    <variablelist>
      <varlistentry>
        <term>--dump</term>

        <listitem>
          <para>Dump internal parse tree of Docbook file. Useful for
          debugging.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--handler -h</term>

        <listitem>
          <para>Which output handler to use. Currently one of
          --handler=markdown or --handler-pod</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--help</term>

        <listitem>
          <para>Short help file</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>-f --in -infile</term>

        <listitem>
          <para>Name of input file. If not supplied in options input file with
          be first command line argument - or if not supplied STDIN</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--man</term>

        <listitem>
          <para>Show this manpage</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--markdown --md</term>

        <listitem>
          <para>Output as Markdown. Shorthand for --handler=markdown</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--merge</term>

        <listitem>
          <para>Merge output (POD only) into an existing Perl program/module.
          The name of the Docbook file must be the name of the Perl to be
          merged into with an ".xml" suffix appended. E.g. docbook-convert
          --pod --merge myfile.pl.xml will convert the file to POD and append
          it to file myfile.pl</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--meta_display_title_h_style</term>

        <listitem>
          <para>If rendering a metadata title which heading style should be
          applied. One of h1..h4</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--meta_display_bottom</term>

        <listitem>
          <para>Render any metadata at the bottom of the document</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--meta_display_title</term>

        <listitem>
          <para>Optional title to be rendered as a prefix to any metadata
          displayed</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--meta_display_top</term>

        <listitem>
          <para>Render any metadata at the top of the document</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--no_html</term>

        <listitem>
          <para>Do not incorporate any HTML in the output (e.g. images in
          POD). This may limit what can be converted.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--no_image_fetch</term>

        <listitem>
          <para>If an image incorporated into a Docbook file has attributes
          which indicate scaling should be applied the image will be fetched
          by the converter and the appropriate width calculated. This option
          will prevent fetching of remote images, and thus will nullify any
          scaling attributes associated with images.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--silent</term>

        <listitem>
          <para>Do not warn on any unhandled tags or other issues</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>-o --out -outfile</term>

        <listitem>
          <para>Name of file any output should be sent to. If specified as
          suffix only (e.g. --outfile=.foo) then the .xml extension will be
          stripped from the input file name and the nominated suffix applied.
          The result will be used as the output file name. Userful with
          --recurse</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--recursedir|d</term>

        <listitem>
          <para>Convert all .xml files in a nominated directory</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--recurse</term>

        <listitem>
          <para>Convert all files in the current working directory and any
          sub-directories</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>-V -version</term>

        <listitem>
          <para>Display the version number of the utility</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>

  <refsection>
    <title>Examples</title>

    <screen># Convert a single file to markdown

docbook-convert --markdown -f mydoc.xml -o mydoc.md

# Convert all files in a directory to markdown

docbook-convert --markdown --recursedir ~/mydoc/ -o .md

# Include meta-data in output

docbook-convert --markdown --meta_display_top myarticle.xml -o myarticle.md

# Merge documentation as POD into an existing Perl program myprog.pl

docbook-convert --pod --merge myprog.pl.xml</screen>
  </refsection>

  <refsection>
    <title>Limitations</title>

    <para>This utility and associated Perl module will only convert a subset
    of Docbook entities and tags.</para>
  </refsection>

  <refsection>
    <title>LICENSE and COPYRIGHT</title>

    <para>This file is part of Docbook::Convert.</para>

    <para>This software is copyright (c) 2017 by Andrew Speer
    &lt;andrew.speer@isolutions.com.au&gt;.</para>

    <para>This is free software; you can redistribute it and/or modify it
    underthe same terms as the Perl 5 programming language system
    itself.</para>

    <para>Full license text is available at:</para>

    <para>&lt;http://dev.perl.org/licenses/&gt;</para>
  </refsection>
</refentry>
